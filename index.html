<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>QR Code Generator</title>
		<link
			rel="icon"
			href="data:image/png;base64,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"
		/>
		<style>
			body {
				font-size: 18px;
				text-align: center;
				max-width: 800px;
				margin: auto;
				font-family: Book Antiqua, Palatino, Palatino Linotype, Palatino LT STD, Georgia, serif;
				padding: 1ex;
			}

			h1,
			h2 {
				font-family: Geneva, Tahoma, Verdana, sans-serif;
			}

			textarea,
			input {
				width: 270px;
				font-size: 18px;
			}

			#out {
				margin-top: 1em;
			}

			img {
				border: solid #ffb496 1px;
			}

			p {
				text-align: left;
			}

			code {
				white-space: nowrap;
			}
		</style>
	</head>
	<body>
		<h1>QR Code Generator</h1>
		<label>
			Text to encode
			<br />
			<textarea autocomplete="none" rows="3" placeholder="https://example.com/"></textarea>
		</label>
		<br />
		<label>
			Image size
			<br />
			<input type="number" value="150" />
		</label>
		<div id="out"></div>

		<hr />

		<h2>What?</h2>

		<p>
			QR codes are small images which encode some information (usually a URL to a website) in them. Most smartphones
			will show you that information if you use the camera app and look at the QR code through it. If it is a URL then
			you can tap to go to the website.
		</p>

		<h2>How?</h2>

		<p>
			There are two controls. A textarea where you type some text (any text, but a URL is most common), and a number box
			where you can adjust the size of the rendered image. When you are happy with the result you can use your browser
			to save the result (typically by right-clicking on the image and selecting Save).
		</p>

		<p>
			<a href="https://shkspr.mobi/blog/2011/05/you-are-too-stupid-to-use-qr-codes-correctly/"
				>You Are Too Stupid To Use QR Codes Correctly</a
			>
			provides a set of commandments for doing QR codes well. It is worth a read and it covers such things as URL design
			and ensuring the QR code size you select is large enough.
		</p>

		<h2>Privacy and Security</h2>

		<p>
			This is designed to be an ultra simple, completely free, QR Code generator which doesn't try to do anything
			sneaky, underhand, or profit making. It is a light UI wrapper around
			<a href="https://www.npmjs.com/package/qrcode">this open source QR Code library</a>.
		</p>

		<p>It runs entirely in your browser. It does not send any information about what you type to me.</p>

		<p>
			It encodes exactly what you put in the text field. It doesn't replace the URL with a redirect through a site I
			control.
		</p>

		<p>
			It will just work and it won't expire. I won't (and can't) try to charge you money to keep your QR code running
			(because it points to exactly where you tell it to and not to my site).
		</p>

		<p>
			When people look at the URL, it shows them your URL which adds a lot more trust than a redirect through
			<code>https://track.me.example.io/sdDwE</code>.
		</p>

		<p>
			It doesn't provide a service to tell you how many people have used it but also isn't capturing data about you and
			your visitors for <strong>my</strong> purposes so and it isn't a GDRP violation waiting to be spotted. If you want
			tracking then you can implement it on your own server. Think about the legal and moral implications before you do
			that though.
		</p>

		<h2>Why</h2>

		<p>
			A friend handed out some leaflets which had a redirect link in them. A week later the link stopped working because
			they hadn't noticed it was a paid service with a short trial.
		</p>

		<h2>Further Reading</h2>

		<p>
			<a href="https://shkspr.mobi/blog/2024/03/what-the-uk-government-gets-wrong-about-qr-codes/"
				>What the UK Government gets wrong about QR codes</a
			>
			is a useful analysis of some real life QR codes.
		</p>

		<h2>Me</h2>

		<p>
			I'm David. You can find me at
			<a href="https://mastodon.social/@dorward">@dorward@mastodon.social@mastodon.social</a> and at
			<a href="https://dorward.uk/">dorward.uk</a>.
		</p>

		<script type="module">
			import QRCode from 'https://cdn.jsdelivr.net/npm/qrcode@latest/+esm';

			const createImage = () => {
				const img = document.createElement('img');
				document.querySelector('#out').appendChild(img);
				return img;
			};

			const gen = async e => {
				const value = document.querySelector('textarea').value;
				const width = +document.querySelector('input').value;
				const output = await QRCode.toDataURL(value || ' ', { width });
				console.log(value, width, output);
				image.src = output;
				image.alt = value;
			};

			const image = createImage();
			gen();

			document.querySelectorAll('textarea, input').forEach(el => el.addEventListener('input', gen));
		</script>
	</body>
</html>
